<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Common Functions · PlaceholderLikelihood.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://JoelTrent.github.io/PlaceholderLikelihood.jl/internal_library/common/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PlaceholderLikelihood.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../quick_start/">Quick Start</a></li><li><span class="tocitem">User Interface</span><ul><li><a class="tocitem" href="../../user_interface/initialisation/">Initialisation</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Parameter Profiles and Samples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../user_interface/profiles_and_samples/profile_structs/">Structs and Profile Types</a></li><li><a class="tocitem" href="../../user_interface/profiles_and_samples/univariate/">Univariate Profiles</a></li><li><a class="tocitem" href="../../user_interface/profiles_and_samples/bivariate/">Bivariate Profiles</a></li><li><a class="tocitem" href="../../user_interface/profiles_and_samples/dimensional/">Dimensional Samples</a></li></ul></li><li><a class="tocitem" href="../../user_interface/predictions/">Predictions</a></li><li><a class="tocitem" href="../../user_interface/plots/">Plots</a></li></ul></li><li><span class="tocitem">Internal Library</span><ul><li class="is-active"><a class="tocitem" href>Common Functions</a></li><li><a class="tocitem" href="../initialisation/">Initialisation</a></li><li><a class="tocitem" href="../ellipse_likelihood/">Ellipse Functions</a></li><li><a class="tocitem" href="../univariate/">Univariate Functions</a></li><li><a class="tocitem" href="../bivariate/">Bivariate Functions</a></li><li><a class="tocitem" href="../dimensional/">Dimensional Functions</a></li><li><a class="tocitem" href="../predictions/">Prediction Functions</a></li><li><a class="tocitem" href="../plots/">Plotting Functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Internal Library</a></li><li class="is-active"><a href>Common Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Common Functions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JoelTrent/PlaceholderLikelihood.jl/blob/main/docs/src/internal_library/common.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Common-Functions"><a class="docs-heading-anchor" href="#Common-Functions">Common Functions</a><a id="Common-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Common-Functions" title="Permalink"></a></h1><ul><li><a href="#PlaceholderLikelihood.convertθnames_toindices"><code>PlaceholderLikelihood.convertθnames_toindices</code></a></li><li><a href="#PlaceholderLikelihood.desired_df_subset"><code>PlaceholderLikelihood.desired_df_subset</code></a></li><li><a href="#PlaceholderLikelihood.get_consistent_tuple"><code>PlaceholderLikelihood.get_consistent_tuple</code></a></li><li><a href="#PlaceholderLikelihood.get_target_loglikelihood"><code>PlaceholderLikelihood.get_target_loglikelihood</code></a></li><li><a href="#PlaceholderLikelihood.ll_correction"><code>PlaceholderLikelihood.ll_correction</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="PlaceholderLikelihood.convertθnames_toindices" href="#PlaceholderLikelihood.convertθnames_toindices"><code>PlaceholderLikelihood.convertθnames_toindices</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">convertθnames_toindices(model::LikelihoodModel, 
    θnames_to_convert::Vector{&lt;:Symbol})</code></pre><p>Converts a vector of symbols representing parameters in <code>model</code> to a vector of each symbol&#39;s corresponding index in <code>model.core.θnames</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoelTrent/PlaceholderLikelihood.jl/blob/53325ef9dc29e6b0462456c6c8b074c4c65a25d8/src/common_profile_likelihood.jl#L36-L41">source</a></section><section><div><pre><code class="nohighlight hljs">convertθnames_toindices(model::LikelihoodModel, 
    θnames_to_convert::Union{Vector{Vector{Symbol}}, Vector{Tuple{Symbol, Symbol}}})</code></pre><p>Converts a vector of vectors or tuples containing symbols representing parameters in <code>model</code> to a vector of vectors containing each symbol&#39;s corresponding index in <code>model.core.θnames</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoelTrent/PlaceholderLikelihood.jl/blob/53325ef9dc29e6b0462456c6c8b074c4c65a25d8/src/common_profile_likelihood.jl#L53-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlaceholderLikelihood.ll_correction" href="#PlaceholderLikelihood.ll_correction"><code>PlaceholderLikelihood.ll_correction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ll_correction(model::LikelihoodModel, 
    profile_type::AbstractProfileType, 
    ll::Float64)</code></pre><p>If a <code>profile_type</code> is <code>LogLikelihood()</code>, it corrects <code>ll</code> such that an input log-likelihood value (which has value of zero at the MLE) will now have a value of <code>model.core.maximisedmle</code> at the MLE. Otherwise, a copy of <code>ll</code> is returned, as both ellipse approximation profile types have a log-likelihood value of 0.0 at the MLE.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoelTrent/PlaceholderLikelihood.jl/blob/53325ef9dc29e6b0462456c6c8b074c4c65a25d8/src/common_profile_likelihood.jl#L71-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlaceholderLikelihood.get_target_loglikelihood" href="#PlaceholderLikelihood.get_target_loglikelihood"><code>PlaceholderLikelihood.get_target_loglikelihood</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_target_loglikelihood(model::LikelihoodModel, 
    confidence_level::Float64, 
    profile_type::AbstractProfileType, 
    dof::Int)</code></pre><p>Returns the target log-likelihood / threshold at a confidence level and degrees of freedom, <code>dof</code> (the number of interest parameters), required for a particular <code>profile_type</code> to be in the confidence set. Uses <a href="#PlaceholderLikelihood.ll_correction"><code>PlaceholderLikelihood.ll_correction</code></a> </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoelTrent/PlaceholderLikelihood.jl/blob/53325ef9dc29e6b0462456c6c8b074c4c65a25d8/src/common_profile_likelihood.jl#L85-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlaceholderLikelihood.get_consistent_tuple" href="#PlaceholderLikelihood.get_consistent_tuple"><code>PlaceholderLikelihood.get_consistent_tuple</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_consistent_tuple(model::LikelihoodModel, 
    confidence_level::Float64, 
    profile_type::AbstractProfileType, 
    dof::Int)</code></pre><p>Returns a tuple containing the values needed for log-likelihood evaluation and finding function zeros, including the target log-likelihood, number of model parameters, log-likelihood function to use and <code>data</code> tuple for evaluating the log-likelihood function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoelTrent/PlaceholderLikelihood.jl/blob/53325ef9dc29e6b0462456c6c8b074c4c65a25d8/src/common_profile_likelihood.jl#L105-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlaceholderLikelihood.desired_df_subset" href="#PlaceholderLikelihood.desired_df_subset"><code>PlaceholderLikelihood.desired_df_subset</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">desired_df_subset(df::DataFrame, 
    num_used_rows::Int, 
    confidence_levels::Union{Float64, Vector{&lt;:Float64}}, 
    sample_types::Vector{&lt;:AbstractSampleType}; 
    sample_dimension::Int=0, 
    for_prediction_generation::Bool=false, 
    for_prediction_plots::Bool=false, 
    include_higher_confidence_levels::Bool=false)</code></pre><p>Returns a view of <code>df</code> that includes only valid rows ∈ <code>1:num_used_rows</code>, and rows that contain all of the values specified within function arguments. For dimensional samples.</p><p><strong>Arguments</strong></p><ul><li><code>df</code>: a DataFrame - <code>model.dim_samples_df</code>.</li><li><code>num_used_rows</code>: the number of valid rows in <code>df</code> - <code>model.num_dim_samples</code>.</li><li><code>confidence_levels</code>: a vector of confidence levels or a <code>Float64</code> of a single confidence level. If empty, all confidence levels in <code>df</code> are allowed. Otherwise, if <code>include_higher_confidence_levels == true</code> and <code>confidence_levels</code> is a <code>Float64</code>, all confidence levels greater than or equal to <code>confidence_levels</code> are allowed. Else, only matching confidence levels in <code>df</code> are allowed.</li><li><code>sample_types</code>: a vector of <code>AbstractSampleType</code> structs. If empty, all sample types in <code>df</code> are allowed. Otherwise, only matching sample types in <code>df</code> are allowed.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>sample_dimension</code>: an integer greater than or equal to 0; if non-zero only matching dimensions of interest parameters in <code>df</code> are allowed, otherwise all are a allowed. Default is <code>0</code>.</li><li><code>for_prediction_generation</code>: a boolean specifying whether only rows which have not had predictions evaluated are allowed. As predictions do not need to be generated for rows which already have them evaluated. </li><li><code>for_prediction_plots</code>: a boolean specifying whether only rows which have had predictions evaluated are allowed. As prediction plots can only include rows which have evaluated predictions. </li><li><code>include_higher_confidence_levels</code>: a boolean specifying whether all confidence levels greater than or equal to <code>confidence_levels</code> are allowed. Useful for prediction plots as a dimensional sample can be evaluated at a high confidence level (e.g. 0.95) and then used at a lower confidence level (e.g. 0.9), extracting only the sample points that are in the 0.9 confidence set.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoelTrent/PlaceholderLikelihood.jl/blob/53325ef9dc29e6b0462456c6c8b074c4c65a25d8/src/common_profile_likelihood.jl#L133-L156">source</a></section><section><div><pre><code class="nohighlight hljs">desired_df_subset(df::DataFrame, 
    num_used_rows::Int, 
    θs_of_interest::Vector{&lt;:Int}, 
    confidence_levels::Union{Float64, Vector{&lt;:Float64}}, 
    profile_types::Vector{&lt;:AbstractProfileType}; 
    for_points_in_interval::Tuple{Bool,Int,Real}=(false,0,0), 
    for_prediction_generation::Bool=false, 
    for_prediction_plots::Bool=false)</code></pre><p>Returns a view of <code>df</code> that includes only valid rows ∈ <code>1:num_used_rows</code>, and rows that contain all of the values specified within function arguments. For univariate profiles.</p><p><strong>Arguments</strong></p><ul><li><code>df</code>: a DataFrame - <code>model.uni_profiles_df</code>.</li><li><code>num_used_rows</code>: the number of valid rows in <code>df</code> - <code>model.num_uni_profiles</code>.</li><li><code>confidence_levels</code>: a vector of confidence levels or a <code>Float64</code> of a single confidence level. If empty, all confidence levels in <code>df</code> are allowed. Otherwise, if <code>include_higher_confidence_levels == true</code> and <code>confidence_levels</code> is a <code>Float64</code>, all confidence levels greater than or equal to <code>confidence_levels</code> are allowed. Else, only matching confidence levels in <code>df</code> are allowed.</li><li><code>profile_types</code>: a vector of <code>AbstractProfileType</code> structs. If empty, all profile types in <code>df</code> are allowed. Otherwise, only matching profile types in <code>df</code> are allowed.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>for_points_in_interval</code>: a tuple used for only extracting the rows that need to have points in the confidence interval evaluated by <a href="../../user_interface/profiles_and_samples/univariate/#PlaceholderLikelihood.get_points_in_interval!"><code>get_points_in_interval!</code></a>. Default is <code>(false, 0, 0)</code>.</li><li><code>for_prediction_generation</code>: a boolean specifying whether only rows which have not had predictions evaluated are allowed. As predictions do not need to be generated for rows which already have them evaluated. </li><li><code>for_prediction_plots</code>: a boolean specifying whether only rows which have had predictions evaluated are allowed. As prediction plots can only include rows which have evaluated predictions. </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoelTrent/PlaceholderLikelihood.jl/blob/53325ef9dc29e6b0462456c6c8b074c4c65a25d8/src/common_profile_likelihood.jl#L193-L215">source</a></section><section><div><pre><code class="nohighlight hljs">desired_df_subset(df::DataFrame, 
    num_used_rows::Int, 
    θs_of_interest::Vector{Tuple{Int,Int}}, 
    confidence_levels::Union{Float64, Vector{&lt;:Float64}}, 
    profile_types::Vector{&lt;:AbstractProfileType}, 
    methods::Vector{&lt;:AbstractBivariateMethod}=AbstractBivariateMethod[]; 
    for_prediction_generation::Bool=false, 
    for_prediction_plots::Bool=false, 
    include_lower_confidence_levels::Bool=false)</code></pre><p>Returns a view of <code>df</code> that includes only valid rows ∈ <code>1:num_used_rows</code>, and rows that contain all of the values specified within function arguments. For bivariate profiles.</p><p><strong>Arguments</strong></p><ul><li><code>df</code>: a DataFrame - <code>model.biv_profiles_df</code>.</li><li><code>num_used_rows</code>: the number of valid rows in <code>df</code> - <code>model.num_biv_profiles</code>.</li><li><code>confidence_levels</code>: a vector of confidence levels or a <code>Float64</code> of a single confidence level. If empty, all confidence levels in <code>df</code> are allowed. Otherwise, if <code>include_higher_confidence_levels == true</code> and <code>confidence_levels</code> is a <code>Float64</code>, all confidence levels greater than or equal to <code>confidence_levels</code> are allowed. Else, only matching confidence levels in <code>df</code> are allowed.</li><li><code>profile_types</code>: a vector of <code>AbstractProfileType</code> structs. If empty, all profile types in <code>df</code> are allowed. Otherwise, only matching profile types in <code>df</code> are allowed.</li><li><code>methods</code>: a vector of <code>AbstractBivariateMethod</code> structs. If empty, all methods in <code>df</code> are allowed. Otherwise, only methods of the same type in <code>df</code> are allowed.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>for_prediction_generation</code>: a boolean specifying whether only rows which have not had predictions evaluated are allowed. As predictions do not need to be generated for rows which already have them evaluated. </li><li><code>for_prediction_plots</code>: a boolean specifying whether only rows which have had predictions evaluated are allowed. As prediction plots can only include rows which have evaluated predictions. </li><li><code>include_lower_confidence_levels</code>: a boolean specifying whether all confidence levels less than or equal to <code>confidence_levels</code> are allowed. Useful for prediction plots if a given set of bivariate profiles has few internal points evaluated, meaning some information about predictions may be missing. Bivariate profiles at lower confidence levels are by definition inside the desired confidence interval and may provide additional information on predictions.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoelTrent/PlaceholderLikelihood.jl/blob/53325ef9dc29e6b0462456c6c8b074c4c65a25d8/src/common_profile_likelihood.jl#L255-L279">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../user_interface/plots/">« Plots</a><a class="docs-footer-nextpage" href="../initialisation/">Initialisation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Tuesday 20 June 2023 02:41">Tuesday 20 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
